---
releaseName: opensearch-dashboards
name: opensearch-dashboards
repo:
  name: opensearch-dashboards
  url: https://opensearch-project.github.io/helm-charts
version: {{ opensearchVersion }}
options:
  image:
    repository: oci.stackable.tech/sdp/opensearch-dashboards
    tag: "{{ opensearchVersion }}-stackable{{ stackableReleaseVersion }}"
  labels:
    stackable.tech/vendor: Stackable
  service:
    type: NodePort
    port: 5601
    annotations:
      stackable.tech/logging-view-logs: |-
        /app/discover?security_tenant=global#/view/logs
      stackable.tech/logging-credentials-secret: opensearch-user
    labels:
      stackable.tech/vendor: Stackable
  opensearchHosts: null # Use the discovery ConfigMap instead
  extraEnvs:
    - name: OPENSEARCH_HOSTS
      valueFrom:
        configMapKeyRef:
          name: opensearch
          key: OPENSEARCH_HOSTS
  opensearchAccount:
    secret: opensearch-dashboard-user
  serviceAccount:
    create: false
    # Use the ServiceAccount of OpenSearch because its permissions are already configured to work on
    # OpenShift.
    name: opensearch-serviceaccount
